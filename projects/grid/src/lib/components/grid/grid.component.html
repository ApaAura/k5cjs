<div #content>
  <ng-content select="[header]"></ng-content>

  <div
    #items
    class="grid__items"
    [style.width.px]="(grid.cols * grid.cellWidth + colsTotalGaps) * scale"
    [style.height.px]="(grid.rows * grid.cellHeight + rowsTotalGaps) * scale"
  >
    <!-- <div -->
    <!--   #items -->
    <!--   class="grid__items" -->
    <!--   [style.height.px]="(grid.rows * grid.cellHeight + rowsTotalGaps) * scale" -->
    <!-- > -->
    <ng-container *ngIf="background">
      <ng-container
        *ngTemplateOutlet="background.template; context: { $implicit: { scale, rows, cols, colsGaps, rowsGaps } }"
      />
    </ng-container>

    <ng-content></ng-content>

    <!-- <kc-grid-preview *kcGridPreview="let item; event as event" [item]="item" [event]="event" [scale]="scale"> -->
    <!--   <div>id: {{ item.id }}</div> -->
    <!--   <div>col: {{ item.col }}</div> -->
    <!--   <div>row: {{ item.row }}</div> -->
    <!-- </kc-grid-preview> -->

    <kc-grid-item
      *kcGrid="let item; id as id"
      [id]="id"
      [item]="item"
      [scale]="scale"
      [gridRef]="items"
      [gridItem]="gridItem"
      class="grid__item"
    ></kc-grid-item>
  </div>

  <ng-content select="[footer]"></ng-content>
</div>
